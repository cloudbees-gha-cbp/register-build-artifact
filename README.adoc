= GitHub action: Inform CloudBees Platform that an artifact version was created
Use this GitHub action to report build artifact data generated by a GitHub workflow run to the CloudBees platform for artifact traceability purposes.

== Inputs

[cols="2a,1a,1a,3a",options="header"]
.Input details
|===
^| Input name
^| Data type
^| Required?
^| Description

.^| `cloudbees-url`
^.^| String
^.^| Yes
| The CloudBees platform URL. Typically, this value is `"https://api.cloudbees.io"`.

.^| `cloudbees-pat`
^.^| String
^.^| Yes
| The CloudBees platform personal access token.

.^| `component-id`
^.^| String
^.^| Yes
| The CloudBees platform component identifier. This multi-hexadecimal UUID can be found by:

. Navigating to a component on the CloudBees platform.
. Locating the ID value in the component URL after `componentId=`.

.^| `name`
^.^| String
^.^| Yes
| The name of the artifact to send to the CloudBees platform for artifact traceability purposes.

.^| `version`
^.^| String
^.^| Yes
| The version of the artifact to send to the CloudBees platform for artifact traceability purposes.

.^| `url`
^.^| String
^.^| Yes
| The URL where the artifact version can be pulled for deployment. 

.^| `digest`
^.^| String
^.^| No
| The artifact digest that uniquely identifies the artifact.
|===


== Usage example

In your YAML file, add:

[source,yaml]
----
steps:
      - name: <step-name>
        uses: cloudbees-gha-cbp/register-build-artifact@v1
        with:
          component-id: <component-id>
          name: <artifact-name>
          version: <artifact-version>
          url: <artifact-repo-url>
          digest: <artifact-digest>
          cloudbees-url: <cloudbees-url>
          cloudbees-pat: ${{ <secrets.CloudBees-platform-PAT> }}
----


== License

This code is made available under the 
link:https://opensource.org/license/mit/[MIT license].

== References

* Learn more about link:https://docs.cloudbees.com/docs/cloudbees-saas-platform-actions/latest/[using actions in CloudBees workflows].
* Learn about link:https://docs.cloudbees.com/docs/cloudbees-saas-platform/latest/[the CloudBees platform].
